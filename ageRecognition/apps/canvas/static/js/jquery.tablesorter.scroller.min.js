(function(e){e.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.height()}})(jQuery);$.tablesorter.addWidget({id:"scroller",format:function(e){var t=17;var n=$(e);if(!e.config.isScrolling){var r=e.config.scrollHeight||250;var i=$("tbody",n).height();if(i!=0&&r>i)r=i+10;var s="s_"+Math.floor(Math.random()*101);n.wrap('<div id="'+s+'" class="scroller" style="text-align:left;" />');var o=$('<table class="'+n.attr("class")+'" cellpadding=0 cellspacing=0><thead>'+$("thead",e[0]).html()+"<thead></table>");n.before(o);o.wrap('<div class="scroller_hdr" style="width:'+n.width()+';" />');n.wrap('<div class="scroller_tbl" style="height:'+r+"px;width:"+n.width()+';overflow-y:scroll;" />');$("th",o).each(function(e,t){t.column=e;t.count=0;$(t).unbind("click");$(t).bind("click",function(e){var t=this.column;this.order=this.count++%2;n.trigger("sorton",[[[this.column,this.order]]]);$(this).removeClass("headerSortDown").removeClass("headerSortUp");$(this).siblings().removeClass("headerSortDown").removeClass("headerSortUp");$(this).addClass(this.order==0?"headerSortDown":"headerSortUp")})});var u=function(){$('div.scroller[id != "'+s+'"]').hide();$("thead",e).show();$("th",n).width(0);n.width(0);var r=n.parent();r.width(0);r.parent().trigger("resize");r.width(r.parent().innerWidth()-(r.parent().hasScrollBar()?t:0));n.width(r.innerWidth()-(r.hasScrollBar()?t:0));$("th",n).each(function(e,t){var n=$(t);var r=parseInt(n.css("min-width").replace("auto","0").replace("px","").replace("em",""),10);if(n.width()<r)n.width(r);else r=n.width();$("th",o).eq(e).width(r)});o.width(n.innerWidth());$('div.scroller[id != "'+s+'"]').show()};e.resizeWidth=u;u();n.css("margin-top","0px");o.css("margin-bottom","0px");$("th",e).css("line-height","0px").css("height","0px").css("border","none").css("background-image","none").css("padding-top","0px").css("padding-bottom","0px").css("margin-top","0px").css("margin-bottom","0px").children().css("height","0px").css("padding-top","0px").css("padding-bottom","0px").css("margin-top","0px").css("margin-bottom","0px");$("thead",e).css("visibility","hidden");e.config.isScrolling=true}n.parent().animate({scrollTop:0},"fast")}})